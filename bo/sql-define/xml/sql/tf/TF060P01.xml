<?xml version="1.0" encoding="utf-8"?>
<sql-included>
	<sql-list>
		/** 予算登録 検索 **/
		<sql id="TF060P01-01">
			<statement type="final" name="final">
				<parts>
					SELECT
					 T1.TENPO_CD
					,T1.GETUDO
					,T1.NIPPANBUMON_CD
					,T1.YOSAN1_KIN
					,T1.YOSAN2_KIN
					,T1.YOSAN3_KIN
					,T1.YOSAN4_KIN
					,T1.YOSAN5_KIN
					,T1.YOSAN6_KIN
					,T1.YOSAN7_KIN
					,T1.YOSAN8_KIN
					,T1.YOSAN9_KIN
					,T1.YOSAN10_KIN
					,T1.YOSAN11_KIN
					,T1.YOSAN12_KIN
					,T1.YOSAN13_KIN
					,T1.YOSAN14_KIN
					,T1.YOSAN15_KIN
					,T1.YOSAN16_KIN
					,T1.YOSAN17_KIN
					,T1.YOSAN18_KIN
					,T1.YOSAN19_KIN
					,T1.YOSAN20_KIN
					,T1.YOSAN21_KIN
					,T1.YOSAN22_KIN
					,T1.YOSAN23_KIN
					,T1.YOSAN24_KIN
					,T1.YOSAN25_KIN
					,T1.YOSAN26_KIN
					,T1.YOSAN27_KIN
					,T1.YOSAN28_KIN
					,T1.YOSAN29_KIN
					,T1.YOSAN30_KIN
					,T1.YOSAN31_KIN
					,T1.YOSANGOKEI_KIN
					,T1.UPD_YMD
					,T1.UPD_TM
					FROM
					MDAT0090 T1
					WHERE
					T1.TENPO_CD =
				</parts>
				<bind id="BIND_TENPO_CD" />
				<parts>
					AND T1.GETUDO =
				</parts>
				<bind id="BIND_GETUDO" />
				<parts>
					ORDER BY
					T1.NIPPANBUMON_CD
				</parts>
			</statement>
		</sql>
		/** 予算登録 更新 **/
		<sql id="TF060P01-02">
			<statement type="final" name="final">
				<parts>
					MERGE INTO MDAT0090
					USING (
						SELECT
							 </parts><bind id="BIND_TENPO_CD" /><parts>        TENPO_CD			/* 店舗コード */
							,</parts><bind id="BIND_GETUDO" /><parts>          GETUDO			/* 月度 */
							,</parts><bind id="BIND_NIPPANBUMON_CD" /><parts>  NIPPANBUMON_CD	/* 日販部門コード */
							,</parts><bind id="BIND_YOSAN1_KIN" /><parts>      YOSAN1_KIN		/* 予算額1 */
							,</parts><bind id="BIND_YOSAN2_KIN" /><parts>      YOSAN2_KIN		/* 予算額2 */
							,</parts><bind id="BIND_YOSAN3_KIN" /><parts>      YOSAN3_KIN		/* 予算額3 */
							,</parts><bind id="BIND_YOSAN4_KIN" /><parts>      YOSAN4_KIN		/* 予算額4 */
							,</parts><bind id="BIND_YOSAN5_KIN" /><parts>      YOSAN5_KIN		/* 予算額5 */
							,</parts><bind id="BIND_YOSAN6_KIN" /><parts>      YOSAN6_KIN		/* 予算額6 */
							,</parts><bind id="BIND_YOSAN7_KIN" /><parts>      YOSAN7_KIN		/* 予算額7 */
							,</parts><bind id="BIND_YOSAN8_KIN" /><parts>      YOSAN8_KIN		/* 予算額8 */
							,</parts><bind id="BIND_YOSAN9_KIN" /><parts>      YOSAN9_KIN		/* 予算額9 */
							,</parts><bind id="BIND_YOSAN10_KIN" /><parts>     YOSAN10_KIN		/* 予算額10 */
							,</parts><bind id="BIND_YOSAN11_KIN" /><parts>     YOSAN11_KIN		/* 予算額11 */
							,</parts><bind id="BIND_YOSAN12_KIN" /><parts>     YOSAN12_KIN		/* 予算額12 */
							,</parts><bind id="BIND_YOSAN13_KIN" /><parts>     YOSAN13_KIN		/* 予算額13 */
							,</parts><bind id="BIND_YOSAN14_KIN" /><parts>     YOSAN14_KIN		/* 予算額14 */
							,</parts><bind id="BIND_YOSAN15_KIN" /><parts>     YOSAN15_KIN		/* 予算額15 */
							,</parts><bind id="BIND_YOSAN16_KIN" /><parts>     YOSAN16_KIN		/* 予算額16 */
							,</parts><bind id="BIND_YOSAN17_KIN" /><parts>     YOSAN17_KIN		/* 予算額17 */
							,</parts><bind id="BIND_YOSAN18_KIN" /><parts>     YOSAN18_KIN		/* 予算額18 */
							,</parts><bind id="BIND_YOSAN19_KIN" /><parts>     YOSAN19_KIN		/* 予算額19 */
							,</parts><bind id="BIND_YOSAN20_KIN" /><parts>     YOSAN20_KIN		/* 予算額20 */
							,</parts><bind id="BIND_YOSAN21_KIN" /><parts>     YOSAN21_KIN		/* 予算額21 */
							,</parts><bind id="BIND_YOSAN22_KIN" /><parts>     YOSAN22_KIN		/* 予算額22 */
							,</parts><bind id="BIND_YOSAN23_KIN" /><parts>     YOSAN23_KIN		/* 予算額23 */
							,</parts><bind id="BIND_YOSAN24_KIN" /><parts>     YOSAN24_KIN		/* 予算額24 */
							,</parts><bind id="BIND_YOSAN25_KIN" /><parts>     YOSAN25_KIN		/* 予算額25 */
							,</parts><bind id="BIND_YOSAN26_KIN" /><parts>     YOSAN26_KIN		/* 予算額26 */
							,</parts><bind id="BIND_YOSAN27_KIN" /><parts>     YOSAN27_KIN		/* 予算額27 */
							,</parts><bind id="BIND_YOSAN28_KIN" /><parts>     YOSAN28_KIN		/* 予算額28 */
							,</parts><bind id="BIND_YOSAN29_KIN" /><parts>     YOSAN29_KIN		/* 予算額29 */
							,</parts><bind id="BIND_YOSAN30_KIN" /><parts>     YOSAN30_KIN		/* 予算額30 */
							,</parts><bind id="BIND_YOSAN31_KIN" /><parts>     YOSAN31_KIN		/* 予算額31 */
							,</parts><bind id="BIND_YOSANGOKEI_KIN" /><parts>  YOSANGOKEI_KIN	/* 予算額合計 */
							,</parts><bind id="BIND_ADD_YMD" /><parts>         ADD_YMD			/* 登録日 */
							,</parts><bind id="BIND_ADD_TM" /><parts>          ADD_TM			/* 登録時間 */
							,</parts><bind id="BIND_ADDTAN_CD" /><parts>       ADDTAN_CD		/* 登録担当者コード */
							,</parts><bind id="BIND_UPD_YMD" /><parts>         UPD_YMD			/* 更新日 */
							,</parts><bind id="BIND_UPD_TM" /><parts>          UPD_TM			/* 更新時間 */
							,</parts><bind id="BIND_UPD_TANCD" /><parts>       UPD_TANCD		/* 更新担当者コード */
							,</parts><bind id="BIND_SAKUJYO_YMD" /><parts>     SAKUJYO_YMD		/* 削除日 */
							,</parts><bind id="BIND_SAKUJYO_FLG" /><parts>     SAKUJYO_FLG		/* 削除フラグ */
							,</parts><bind id="BIND_SOSINIRAI_FLG" /><parts>   SOSINIRAI_FLG	/* 送信依頼フラグ */
							,</parts><bind id="BIND_SOSINZUMI_FLG" /><parts>   SOSINZUMI_FLG	/* 送信済フラグ */
							,</parts><bind id="BIND_SOSIN_YMD" /><parts>       SOSIN_YMD		/* 送信日 */
							,</parts><bind id="BIND_SOSIN_TM" /><parts>        SOSIN_TM			/* 送信時間 */
						FROM
							DUAL
					) UPDVAL
					ON
						(	MDAT0090.TENPO_CD       = UPDVAL.TENPO_CD
					AND		MDAT0090.GETUDO         = UPDVAL.GETUDO
					AND		MDAT0090.NIPPANBUMON_CD = UPDVAL.NIPPANBUMON_CD)
					WHEN MATCHED THEN
					UPDATE SET
						 YOSAN1_KIN     = UPDVAL.YOSAN1_KIN			/* 予算額1 */
						,YOSAN2_KIN     = UPDVAL.YOSAN2_KIN			/* 予算額2 */
						,YOSAN3_KIN     = UPDVAL.YOSAN3_KIN			/* 予算額3 */
						,YOSAN4_KIN     = UPDVAL.YOSAN4_KIN			/* 予算額4 */
						,YOSAN5_KIN     = UPDVAL.YOSAN5_KIN			/* 予算額5 */
						,YOSAN6_KIN     = UPDVAL.YOSAN6_KIN			/* 予算額6 */
						,YOSAN7_KIN     = UPDVAL.YOSAN7_KIN			/* 予算額7 */
						,YOSAN8_KIN     = UPDVAL.YOSAN8_KIN			/* 予算額8 */
						,YOSAN9_KIN     = UPDVAL.YOSAN9_KIN			/* 予算額9 */
						,YOSAN10_KIN    = UPDVAL.YOSAN10_KIN		/* 予算額10 */
						,YOSAN11_KIN    = UPDVAL.YOSAN11_KIN		/* 予算額11 */
						,YOSAN12_KIN    = UPDVAL.YOSAN12_KIN		/* 予算額12 */
						,YOSAN13_KIN    = UPDVAL.YOSAN13_KIN		/* 予算額13 */
						,YOSAN14_KIN    = UPDVAL.YOSAN14_KIN		/* 予算額14 */
						,YOSAN15_KIN    = UPDVAL.YOSAN15_KIN		/* 予算額15 */
						,YOSAN16_KIN    = UPDVAL.YOSAN16_KIN		/* 予算額16 */
						,YOSAN17_KIN    = UPDVAL.YOSAN17_KIN		/* 予算額17 */
						,YOSAN18_KIN    = UPDVAL.YOSAN18_KIN		/* 予算額18 */
						,YOSAN19_KIN    = UPDVAL.YOSAN19_KIN		/* 予算額19 */
						,YOSAN20_KIN    = UPDVAL.YOSAN20_KIN		/* 予算額20 */
						,YOSAN21_KIN    = UPDVAL.YOSAN21_KIN		/* 予算額21 */
						,YOSAN22_KIN    = UPDVAL.YOSAN22_KIN		/* 予算額22 */
						,YOSAN23_KIN    = UPDVAL.YOSAN23_KIN		/* 予算額23 */
						,YOSAN24_KIN    = UPDVAL.YOSAN24_KIN		/* 予算額24 */
						,YOSAN25_KIN    = UPDVAL.YOSAN25_KIN		/* 予算額25 */
						,YOSAN26_KIN    = UPDVAL.YOSAN26_KIN		/* 予算額26 */
						,YOSAN27_KIN    = UPDVAL.YOSAN27_KIN		/* 予算額27 */
						,YOSAN28_KIN    = UPDVAL.YOSAN28_KIN		/* 予算額28 */
						,YOSAN29_KIN    = UPDVAL.YOSAN29_KIN		/* 予算額29 */
						,YOSAN30_KIN    = UPDVAL.YOSAN30_KIN		/* 予算額30 */
						,YOSAN31_KIN    = UPDVAL.YOSAN31_KIN		/* 予算額31 */
						,YOSANGOKEI_KIN = UPDVAL.YOSANGOKEI_KIN		/* 予算額合計 */
						,UPD_YMD        = UPDVAL.UPD_YMD			/* 更新日 */
						,UPD_TM         = UPDVAL.UPD_TM				/* 更新時間 */
						,UPD_TANCD      = UPDVAL.UPD_TANCD			/* 更新担当者コード */
						,SAKUJYO_YMD    = UPDVAL.SAKUJYO_YMD		/* 削除日 */
						,SAKUJYO_FLG    = 0							/* 削除フラグ */
						,SOSINZUMI_FLG  = UPDVAL.SOSINZUMI_FLG		/* 送信済フラグ */
						,SOSIN_YMD      = UPDVAL.SOSIN_YMD			/* 送信日 */
						,SOSIN_TM       = UPDVAL.SOSIN_TM			/* 送信時間 */
					WHEN NOT MATCHED THEN
					INSERT (
						TENPO_CD					/* 店舗コード */
						,GETUDO						/* 月度 */
						,NIPPANBUMON_CD				/* 日販部門コード */
						,YOSAN1_KIN					/* 予算額1 */
						,YOSAN2_KIN					/* 予算額2 */
						,YOSAN3_KIN					/* 予算額3 */
						,YOSAN4_KIN					/* 予算額4 */
						,YOSAN5_KIN					/* 予算額5 */
						,YOSAN6_KIN					/* 予算額6 */
						,YOSAN7_KIN					/* 予算額7 */
						,YOSAN8_KIN					/* 予算額8 */
						,YOSAN9_KIN					/* 予算額9 */
						,YOSAN10_KIN				/* 予算額10 */
						,YOSAN11_KIN				/* 予算額11 */
						,YOSAN12_KIN				/* 予算額12 */
						,YOSAN13_KIN				/* 予算額13 */
						,YOSAN14_KIN				/* 予算額14 */
						,YOSAN15_KIN				/* 予算額15 */
						,YOSAN16_KIN				/* 予算額16 */
						,YOSAN17_KIN				/* 予算額17 */
						,YOSAN18_KIN				/* 予算額18 */
						,YOSAN19_KIN				/* 予算額19 */
						,YOSAN20_KIN				/* 予算額20 */
						,YOSAN21_KIN				/* 予算額21 */
						,YOSAN22_KIN				/* 予算額22 */
						,YOSAN23_KIN				/* 予算額23 */
						,YOSAN24_KIN				/* 予算額24 */
						,YOSAN25_KIN				/* 予算額25 */
						,YOSAN26_KIN				/* 予算額26 */
						,YOSAN27_KIN				/* 予算額27 */
						,YOSAN28_KIN				/* 予算額28 */
						,YOSAN29_KIN				/* 予算額29 */
						,YOSAN30_KIN				/* 予算額30 */
						,YOSAN31_KIN				/* 予算額31 */
						,YOSANGOKEI_KIN				/* 予算額合計 */
						,ADD_YMD					/* 登録日 */
						,ADD_TM						/* 登録時間 */
						,ADDTAN_CD					/* 登録担当者コード */
						,UPD_YMD					/* 更新日 */
						,UPD_TM						/* 更新時間 */
						,UPD_TANCD					/* 更新担当者コード */
						,SAKUJYO_YMD				/* 削除日 */
						,SAKUJYO_FLG				/* 削除フラグ */
						,SOSINIRAI_FLG				/* 送信依頼フラグ */
						,SOSINZUMI_FLG				/* 送信済フラグ */
						,SOSIN_YMD					/* 送信日 */
						,SOSIN_TM					/* 送信時間 */
					) VALUES (
						 UPDVAL.TENPO_CD			/* 店舗コード */
						,UPDVAL.GETUDO				/* 月度 */
						,UPDVAL.NIPPANBUMON_CD		/* 日販部門コード */
						,UPDVAL.YOSAN1_KIN			/* 予算額1 */
						,UPDVAL.YOSAN2_KIN			/* 予算額2 */
						,UPDVAL.YOSAN3_KIN			/* 予算額3 */
						,UPDVAL.YOSAN4_KIN			/* 予算額4 */
						,UPDVAL.YOSAN5_KIN			/* 予算額5 */
						,UPDVAL.YOSAN6_KIN			/* 予算額6 */
						,UPDVAL.YOSAN7_KIN			/* 予算額7 */
						,UPDVAL.YOSAN8_KIN			/* 予算額8 */
						,UPDVAL.YOSAN9_KIN			/* 予算額9 */
						,UPDVAL.YOSAN10_KIN			/* 予算額10 */
						,UPDVAL.YOSAN11_KIN			/* 予算額11 */
						,UPDVAL.YOSAN12_KIN			/* 予算額12 */
						,UPDVAL.YOSAN13_KIN			/* 予算額13 */
						,UPDVAL.YOSAN14_KIN			/* 予算額14 */
						,UPDVAL.YOSAN15_KIN			/* 予算額15 */
						,UPDVAL.YOSAN16_KIN			/* 予算額16 */
						,UPDVAL.YOSAN17_KIN			/* 予算額17 */
						,UPDVAL.YOSAN18_KIN			/* 予算額18 */
						,UPDVAL.YOSAN19_KIN			/* 予算額19 */
						,UPDVAL.YOSAN20_KIN			/* 予算額20 */
						,UPDVAL.YOSAN21_KIN			/* 予算額21 */
						,UPDVAL.YOSAN22_KIN			/* 予算額22 */
						,UPDVAL.YOSAN23_KIN			/* 予算額23 */
						,UPDVAL.YOSAN24_KIN			/* 予算額24 */
						,UPDVAL.YOSAN25_KIN			/* 予算額25 */
						,UPDVAL.YOSAN26_KIN			/* 予算額26 */
						,UPDVAL.YOSAN27_KIN			/* 予算額27 */
						,UPDVAL.YOSAN28_KIN			/* 予算額28 */
						,UPDVAL.YOSAN29_KIN			/* 予算額29 */
						,UPDVAL.YOSAN30_KIN			/* 予算額30 */
						,UPDVAL.YOSAN31_KIN			/* 予算額31 */
						,UPDVAL.YOSANGOKEI_KIN		/* 予算額合計 */
						,UPDVAL.ADD_YMD				/* 登録日 */
						,UPDVAL.ADD_TM				/* 登録時間 */
						,UPDVAL.ADDTAN_CD			/* 登録担当者コード */
						,UPDVAL.UPD_YMD				/* 更新日 */
						,UPDVAL.UPD_TM				/* 更新時間 */
						,UPDVAL.UPD_TANCD			/* 更新担当者コード */
						,UPDVAL.SAKUJYO_YMD			/* 削除日 */
						,UPDVAL.SAKUJYO_FLG			/* 削除フラグ */
						,UPDVAL.SOSINIRAI_FLG		/* 送信依頼フラグ */
						,UPDVAL.SOSINZUMI_FLG		/* 送信済フラグ */
						,UPDVAL.SOSIN_YMD			/* 送信日 */
						,UPDVAL.SOSIN_TM			/* 送信時間 */
					)
				</parts>
			</statement>
		</sql>
	</sql-list>
</sql-included>
